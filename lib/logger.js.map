{"version":3,"sources":["../src/logger.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;sBAEmB,QAAQ;;IAAf,CAAC;;AAEb,IAAI,gBAAgB,GAAG,KAAK,CAAC;;AAEtB,SAAS,aAAa,GAAG;AAC9B,kBAAgB,GAAG,IAAI,CAAC;CACzB;;AAEM,SAAS,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE;AACzC,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,MAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,WAAO,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;GAClC,MAAM;AACL,WAAO,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;GAC5C;CACF;;AAEM,SAAS,sBAAsB,CAAC,IAAI,EAAE,OAAO,EAAE;AACpD,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,SAAO,CAAC,IAAI,CAAC,UAAC,GAAG,EAAK;AACpB,WAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AAC5B,WAAO,CAAC,QAAQ,EAAE,CAAC;GACpB,EAAE,UAAC,GAAG,EAAK;AACV,QAAI,GAAG,CAAC,KAAK,EAAE;AACb,aAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;AACvC,aAAO,CAAC,QAAQ,CAAC,SAAS,OAAO,GAAG;AAAE,cAAM,GAAG,CAAC;OAAE,CAAC,CAAC;KACrD,MAAM;AACL,aAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;KAC9B;AACD,WAAO,CAAC,QAAQ,EAAE,CAAC;GACpB,CAAC,CAAC;CACJ;;AAEM,SAAS,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE;AACxC,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,MAAI,OAAO,EAAE;AACX,WAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;GAChD,MAAM;AACL,WAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;GACnC;CACF;;AAEM,SAAS,cAAc,CAAC,WAAW,EAAE,IAAI,EAAE;AAChD,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,MAAI,WAAW,CAAC,MAAM,EAAE;AACtB,WAAO,CAAC,GAAG,CAAC,sBAAsB,EAAG,IAAI,GAAG,OAAO,GAAG,EAAE,EAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GAC5G,MAAM;AACL,WAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;GACnC;CACF;;AAEM,SAAS,gBAAgB,GAAG;AACjC,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,SAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;CACnC;;AAEM,SAAS,aAAa,GAAG;AAC9B,MAAI,CAAC,gBAAgB,EAAE;AAAE,WAAO;GAAE;AAClC,SAAO,CAAC,QAAQ,EAAE,CAAC;CACpB;;qBAEc;AACb,eAAa,EAAb,aAAa;AACb,gBAAc,EAAd,cAAc;AACd,wBAAsB,EAAtB,sBAAsB;AACtB,YAAU,EAAV,UAAU;AACV,gBAAc,EAAd,cAAc;AACd,kBAAgB,EAAhB,gBAAgB;AAChB,eAAa,EAAb,aAAa;CACd","file":"logger.js","sourcesContent":["/* eslint no-console:0 */\n\nimport * as _ from 'lodash';\n\nlet isLoggingEnabled = false;\n\nexport function enableLogging() {\n  isLoggingEnabled = true;\n}\n\nexport function logActionStart(name, args) {\n  if (!isLoggingEnabled) { return; }\n  if (!args.length) {\n    console.group('ACTION %s', name);\n  } else {\n    console.group('ACTION %s: %o', name, args);\n  }\n}\n\nexport function logActionPromiseResult(name, promise) {\n  if (!isLoggingEnabled) { return; }\n  promise.then((res) => {\n    console.log('[OK] %o', res);\n    console.groupEnd();\n  }, (err) => {\n    if (err.stack) {\n      console.log('[ERR, RETHROWN] %s', err);\n      process.nextTick(function rethrow() { throw err; });\n    } else {\n      console.log('[ERR] %o', err);\n    }\n    console.groupEnd();\n  });\n}\n\nexport function logMessage(name, payload) {\n  if (!isLoggingEnabled) { return; }\n  if (payload) {\n    console.group('MESSAGE %s: %o', name, payload);\n  } else {\n    console.group('MESSAGE %s', name);\n  }\n}\n\nexport function logDirtyStores(dirtyStores, also) {\n  if (!isLoggingEnabled) { return; }\n  if (dirtyStores.length) {\n    console.log('%sCHANGED STORES: %s', (also ? 'ALSO ' : ''), _.pluck(dirtyStores, 'displayName').join(', '));\n  } else {\n    console.log('NO STORES CHANGED.');\n  }\n}\n\nexport function logNoDirtyStores() {\n  if (!isLoggingEnabled) { return; }\n  console.log('NO STORES CHANGED.');\n}\n\nexport function logMessageEnd() {\n  if (!isLoggingEnabled) { return; }\n  console.groupEnd();\n}\n\nexport default {\n  enableLogging,\n  logActionStart,\n  logActionPromiseResult,\n  logMessage,\n  logDirtyStores,\n  logNoDirtyStores,\n  logMessageEnd,\n};\n"]}