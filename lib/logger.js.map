{"version":3,"sources":["../src/logger.js"],"names":[],"mappings":";;;;;;;;;;;;;;sBAEmB,QAAQ;;IAAf,CAAC;;IAEP,MAAM;AACC,WADP,MAAM,GACI;0BADV,MAAM;;AAER,QAAI,CAAC,OAAO,GAAG,KAAK,CAAC;GACtB;;eAHG,MAAM;;WAKJ,kBAAG;AACP,UAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACrB;;;WAEa,wBAAC,IAAI,EAAE,IAAI,EAAE;AACzB,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,UAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,eAAO,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;OAClC,MAAM;AACL,eAAO,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;OAC5C;KACF;;;WAEqB,gCAAC,IAAI,EAAE,OAAO,EAAE;AACpC,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,aAAO,CAAC,IAAI,CAAC,UAAA,GAAG,EAAI;AAClB,eAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AAC5B,eAAO,CAAC,QAAQ,EAAE,CAAC;OACpB,EAAE,UAAA,GAAG,EAAI;AACR,YAAI,GAAG,CAAC,KAAK,EAAE;AACb,iBAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;AACvC,iBAAO,CAAC,QAAQ,CAAC,SAAS,OAAO,GAAG;AAAE,kBAAM,GAAG,CAAC;WAAE,CAAC,CAAC;SACrD,MAAM;AACL,iBAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;SAC9B;AACD,eAAO,CAAC,QAAQ,EAAE,CAAC;OACpB,CAAC,CAAC;KACJ;;;WAES,oBAAC,IAAI,EAAE,OAAO,EAAE;AACxB,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,UAAI,OAAO,EAAE;AACX,eAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;OAChD,MAAM;AACL,eAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;OACnC;KACF;;;WAEa,wBAAC,WAAW,EAAE,IAAI,EAAE;AAChC,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,UAAI,WAAW,CAAC,MAAM,EAAE;AACtB,eAAO,CAAC,GAAG,CAAC,sBAAsB,EAAG,IAAI,GAAG,OAAO,GAAG,EAAE,EAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;OAC5G,MAAM;AACL,eAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;OACnC;KACF;;;WAEe,4BAAG;AACjB,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,aAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;KACnC;;;WAEY,yBAAG;AACd,UAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AAAE,eAAO;OAAE;AAC9B,aAAO,CAAC,QAAQ,EAAE,CAAC;KACpB;;;SA5DG,MAAM;;;qBA+DG,IAAI,MAAM,EAAE","file":"logger.js","sourcesContent":["/* eslint no-console:0 */\n\nimport * as _ from 'lodash';\n\nclass Logger {\n  constructor() {\n    this.enabled = false;\n  }\n\n  enable() {\n    this.enabled = true;\n  }\n\n  logActionStart(name, args) {\n    if (!this.enabled) { return; }\n    if (!args.length) {\n      console.group('ACTION %s', name);\n    } else {\n      console.group('ACTION %s: %o', name, args);\n    }\n  }\n\n  logActionPromiseResult(name, promise) {\n    if (!this.enabled) { return; }\n    promise.then(res => {\n      console.log('[OK] %o', res);\n      console.groupEnd();\n    }, err => {\n      if (err.stack) {\n        console.log('[ERR, RETHROWN] %s', err);\n        process.nextTick(function rethrow() { throw err; });\n      } else {\n        console.log('[ERR] %o', err);\n      }\n      console.groupEnd();\n    });\n  }\n\n  logMessage(name, payload) {\n    if (!this.enabled) { return; }\n    if (payload) {\n      console.group('MESSAGE %s: %o', name, payload);\n    } else {\n      console.group('MESSAGE %s', name);\n    }\n  }\n\n  logDirtyStores(dirtyStores, also) {\n    if (!this.enabled) { return; }\n    if (dirtyStores.length) {\n      console.log('%sCHANGED STORES: %s', (also ? 'ALSO ' : ''), _.pluck(dirtyStores, 'displayName').join(', '));\n    } else {\n      console.log('NO STORES CHANGED.');\n    }\n  }\n\n  logNoDirtyStores() {\n    if (!this.enabled) { return; }\n    console.log('NO STORES CHANGED.');\n  }\n\n  logMessageEnd() {\n    if (!this.enabled) { return; }\n    console.groupEnd();\n  }\n}\n\nexport default new Logger();\n"]}